<h1 class="text-center m-2">{{title}}</h1>
@if (loading) {
  <div class="text-center m-5">
    <span class="spinner-border spinner-border-lg align-center"></span>
  </div>
} @else {
  <form [formGroup]="bookForm" class="p-4 border rounded shadow-sm bg-light" (ngSubmit)="onSubmitBook()">

    <div class="mb-3">
      <label for="name" class="form-label">Название книги</label>
      <input id="name" name="name" type="text" formControlName="name" class="form-control" [ngClass]="{ 'is-invalid': submitted && formValue.name.errors }">
    </div>

    <div class="mb-3">
      <label for="author" class="form-label">Автор</label>
      <input id="author" name="author" type="text" formControlName="author" class="form-control" [ngClass]="{ 'is-invalid': submitted && formValue.author.errors }">
    </div>

    <div class="mb-3">
      <label for="releaseDate" class="form-label">Дата выпуска</label>
      <input id="releaseDate" name="releaseDate" type="date" formControlName="releaseDate" class="form-control" [ngClass]="{ 'is-invalid': submitted && formValue.releaseDate.errors }">
    </div>

<!--    <div class="mb-4">-->
<!--      <label for="bookStatus" class="form-label">Статус книги</label>-->
<!--      <select id="bookStatus" name="bookStatus" formControlName="bookStatus" class="form-select" [ngClass]="{ 'is-invalid': submitted && formValue.bookStatus.errors }">-->
<!--        <option [value]="status" *ngFor="let status of bookStatuses">-->
<!--          {{ status | bookStatus }}-->
<!--        </option>-->
<!--      </select>-->
<!--    </div>-->

    <div class="d-flex justify-content-between">
      <button type="button" class="btn btn-outline-secondary" routerLink="/books">Назад к списку</button>
      <button [disabled]="loading" type="submit" class="btn btn-success">
        @if (submitting) {
          <span class="spinner-border spinner-border-sm me-1"></span>
        }
        Сохранить
      </button>
    </div>

  </form>
}

